"0","# -----------------------------------------------------------------------------"
"0","# Name:            Shape Effect"
"0","#"
"0","# Description:    It is not enough to model the decay and the lag of an ad."
"0","#                 The shape of its saturation is also an important funtion"
"0","#                 that deserves attention."
"0","#"
"0","# Hill Function:  Marketing Mix Modelers often chose between S-curves and"
"0","#                 C-curves when modeling media impact on sales. "
"0","#                 Pharmacology uses the Hill function to model receptors."
"0","#                 It provides a flexible functional form that may take the "
"0","#                 form of both an S-curve and a C-curve which provides a"
"0","#                 convinient solution to parameterizing the function "
"0","#                 representing shape effect."
"0","# K:              Half Saturation"
"0","# S:              Slope"
"0","# B:              Beta"
"0","#"
"0","# Problem:        It may be the case that the Slope parameter ""S"" may have to "
"0","#                 be set to 1 (S = 1). This is an issue with identifiability"
"0","# -----------------------------------------------------------------------------"
"0","# Define Function"
"0","BHill <- function(B,K,S,...) B - ((K^S * B)/(...^S + K^S))"
"0","# set up example data"
"0","x <- seq(0,1, length.out = 100) # media must be transformed to [0, 1] scale"
"0","                                # for ease of use"
"0","params <- tribble("
"0","  ~K,   ~S,   ~B,  ~type,"
"0","  0.5,  1,    0.3, ""simple_c"","
"0","  0.5,  2,    0.3, ""simple_s"","
"0","  0.5,  0.25,  0.3, ""sharp_c"""
"0",")"
"0","bhill_df <- crossing(x,params) %>% "
"0","  mutate(y = BHill(B,K,S,x))"
"0","bhill_df %>% "
"0","  ggplot(aes(x = x, y = y, color = type)) +"
"0","  geom_line() +"
"0","  labs(title = ""Flexible Shape Function"") +"
"0","  hrbrthemes::theme_ipsum()"
